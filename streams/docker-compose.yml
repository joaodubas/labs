---
version: '3'
services:
  streams:
    image: joaodubas/redis:5.0-rc3
    build: .
    environment:
      TERM: xterm-color
    command: redis-server --protected-mode no
  producer:
    image: golang:1.10
    volumes:
      - './producer:/go/src/app'
    working_dir: /go/src/app
    command: go run main.go
  consumer:
    image: golang:1.10
    volumes:
      - './consumer:/go/src/app'
    working_dir: /go/src/app
    command: go run main.go
